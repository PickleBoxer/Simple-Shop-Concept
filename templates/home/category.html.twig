{% extends 'base.html.twig' %}

{% block title %}Category -
	{{ category }}
{% endblock %}

{% block body %}
	<div class="container">
		<h1 class="mt-3 mb-4">{{ category }}</h1>
		<div class="row">
			{% if products|length > 0 %}
				<div>There are
					{{ products|length }}
					products.</div>
				{% for product in products %}
					<div class="col-md-4">
						<div class="card mb-4">
							{% if product.image %}
								<img src="{{ asset('/images/product/' ~ product.image) }}" alt="{{ product.name }}" class="card-img-top">
							{% endif %}
							<div class="card-body">
								<h5 class="card-title">
									<a href="{{ path('product', { id: product.id }) }}">{{ product.name }}</a>
								</h5>
								<p class="card-text">{{ product.description }}</p>
								<div class="d-flex justify-content-between align-item-center">
									<a href="{{ path('product', { id: product.id }) }}" class="btn btn-dark">View details</a>
									<span class="h5 mt-auto">{{ product.price }}
										â‚¬</span>
								</div>
							</div>
						</div>
					</div>

				{% endfor %}
				{% if previous >= 0 %}
					<a href="{{ path('category', { slug: category.slug, offset: previous }) }}">Previous</a>
				{% endif %}
				{% if next < products|length %}
					<a href="{{ path('category', { slug: category.slug, offset: next }) }}">Next</a>
				{% endif %}
			{% else %}
				<div>No product in this category yet</div>
			{% endif %}
		</div>
	</div>
{% endblock %}
